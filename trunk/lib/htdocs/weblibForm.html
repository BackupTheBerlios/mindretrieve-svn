<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/html4/loose.dtd">
<html>
<head>
<title>MindRetrieve - Edit Entry</title>
<link rel="stylesheet" href="/main.css" type="text/css">
<style>
  .error_message { color:red }
  .date_field   {
    padding-left: 0.5em;
    padding-right: 0.5em;
    background-color: #eee;
  }
  .date_padding {
    padding-left: 8em;
    background-color: #eee;
  }
  #form_table   {
    margin-top: 4ex;
    margin-left: 15%;
    margin-right: 15%;
    margin-bottom: 4ex;
    width: 70%;
    border: medium solid #963;
  }
  #form_title   {
    text-align: center;
    color: #fff;
    font-weight: bold;
    background-color: #963;
  }
  #form_content {
    padding-top: 1ex;
    padding-left: 1em;
    padding-bottom: 1ex;
  }
  .filler       {
    line-height: 0.5ex;
  }
</style>
<script>
function close_form() {
    elem = document.getElementById('close_form');
    elem.checked='';
    rurl = document.getElementById('return_url');
    window.location = rurl.value;
}
</script>
</head>


<body>

<div node='-con:header' style='width:100%;background-color:#ddd;text-align:center'>--HEADER--</div>

<!-- form table -->
<table id='form_table' cellspacing='0' cellpadding='0'>
<tr><td id='form_title'>
    <span style='float: right'><input id='close_form' type='checkbox' onclick='close_form()' /></span>
    <span node='-con:form_title'></span>
</td></tr>

<tr><td id='form_content'>

<form node='con:form' id='edit_form' method='GET' action='/weblib/$id'>
    <input type='hidden' name='method' value='PUT' />
    <input type='hidden' id='return_url' node='con:return_url' name='return_url' value=''/>
    <input type='hidden' name='filled' value='1' />
    <table cellspacing='5'>
    <tr node='con:error'>
        <td colspan='2'><span node='con:message' class='error_message'>Please correct the error.</span></td>
    </tr>
    <tr>
        <td>*Title</td>
        <td><input type='text' node='con:name' name='title' size='100' /></td>
    </tr>
    <tr>
        <td>*Address</td>
        <td><input type='text' node='con:url' name='url' size='100' /></td>
    </tr>
    <tr>
        <td>Description</td>
        <td><textarea node='con:description' name='description' cols='80' rows='6'></textarea></td>
    </tr>
    <tr>
        <td>Tags</td>
        <td><input type='text' node='con:tags' name='tags' size='50' /></td>
    </tr>
    <tr>
        <td>Modified</td>
        <td>
            <span class='date_field' node='con:modified_txt'><span class='date_padding'></span></span>
            <span style="margin-left:1em">Last Used&nbsp;</span>
            <span class='date_field' node='con:lastused_txt'><span class='date_padding'></span></span>
            <span style="margin-left:1em">Cached&nbsp;</span>
            <span class='date_field' node='con:cached_txt'><span class='date_padding'></span></span>
            <input type='hidden' node='con:modified' name='modified' size='15' />
            <input type='hidden' node='con:lastused' name='lastused' size='15' />
            <input type='hidden' node='con:cached' name='cached' size='15' />
        </td>
    </tr>
    <tr>
        <td></td>
        <td>
            <input class='btn' type='submit' name='action' value='OK' />
            <input class='btn' type='button' name='action' value='Cancel' onclick='close_form()' />
        </td>
    </tr>
    </table>

    <!-- Script to handle posting with new tags -->
    <input type='hidden' name='create_tags' value=''/>
    <script node='con:new_tags'>
      new_tags = '%s';
    </script>

    <script>
    function ask_save_new_tags() {
      msg = 'The tags (' + new_tags + ') have not been used before. Save with the new tags?';
      if (confirm(msg)) {
          form = document.getElementById('edit_form');
          form.elements['create_tags'].value = '1';
          form.submit();
      }
    }
    if (new_tags) {
      ask_save_new_tags();
    }
    </script>

</form>

</td></tr>
</table>    <!-- end form table -->


<div node='-con:footer' style='width:100%;background-color:#ddd;text-align:center'>--FOOTER--</div>

</body>
</html>