<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/html4/loose.dtd">
<html>
<head>
<title>MindRetrieve - Configuration</title>
<link rel="stylesheet" href="/main.css" type="text/css">
<style>
  .error_message { 
    color:red;
  }
  #form_table   {
    margin-top: 4ex; 
    margin-left: 15%; 
    margin-right: 15%;
    margin-bottom: 4ex; 
    width: 70%;
    border: medium solid #963;
  }
  #form_title   {
    text-align: center;
    color: #fff;
    font-weight: bold;
    background-color: #963; 
  }
  #form_content {
    padding-top: 1ex;
    padding-left: 1em;
    padding-bottom: 1ex;
  }
  .entryInfo    {
    margin-top: 1ex;
  }
  .filler       {
    line-height: 1.5ex;
  }  
  .datatext {
    color: #696;
    margin-left: 0.5em;
  }
  .instructions {
    padding-top: 4ex;
    font-size: 90%;
    color: #777;
  }
</style>
<script>
function close_form() {
    elem = document.getElementById('close_form');
    elem.checked='';
    window.back();
    //window.location = '/weblib';
}
function choose(opt) {
    elem = document.getElementById(opt);
    elem.checked='On';
}
</script>
</head>


<body>
<div node='-con:header' style='width:100%;background-color:#ddd;text-align:center'>--HEADER--</div>

<!-- form table -->
<table id='form_table' cellspacing='0' cellpadding='0'>
<tr><td id='form_title'>  
    <span style='float: right'><input id='close_form' type='checkbox' onclick='close_form()' /></span>
    <span>Organize</span>
</td></tr>

<tr><td id='form_content'>

<form node='con:edit_form' id='edit_form' method='GET' action='/weblib.entryOrg'>

    <input type='hidden' name='method' value='PUT'/>
    <input type='hidden' node='con:id_list' name='id_list' value=''/>

    <table cellspacing='5'>
    <tr node='con:error'>
        <td colspan='3'><span node='con:message' class='error_message'>Please correct the error.</span></td>
    </tr>    
    <tr>
        <td colspan='3'>
            <div class='entryInfo'>Organize: <span class='datatext' node='con:form_title'>$names,...[$total entries]</span></div>
            <div class='entryInfo'>Common tags: <span class='datatext' node='con:all_tags'>$all_tags</span></div>
            <div class='entryInfo'>Other tags: <span class='datatext' node='con:some_tags'>$some_tags</span></div>
        </td>
    </tr>    
    <tr><td colspan='3' class='instructions'>Set all entries to the tags below</td></tr>
    <tr>
        <td><input id='set_option' type='radio' name='option' value='set_option' /></td>
        <td>Set Tags</td>
        <td>
            <input type='text' name='set_tags' size='50' onchange='choose("set_option");'/>
        </td>
    </tr>    
    <tr><td colspan='3' class='instructions'>Add and/or remove tags from all entries</td></tr>
    <tr>
        <td><input id='add_remove_option' type='radio' name='option' value='add_remove_option' /></td>
        <td>Add Tags</td>
        <td>
            <input type='text' name='add_tags' size='50' onchange='choose("add_remove_option");'/>
        </td>
    </tr>    
    <tr>
        <td></td>
        <td>Remove Tags</td>
        <td>
            <input type='text' name='remove_tags' size='50' onchange='choose("add_remove_option");'/>
        </td>
    </tr>
    <tr><td colspan='3' class='filler'>&nbsp;</td></tr>
    <tr>
        <td></td>
        <td></td>
        <td>
            <input type='submit' name='action' value='OK'      />
            <input type='submit' name='action' value='Cancel' onclick='close_form()' />
        </td>
    </tr>    
    </table>

    <!-- Script to handle posting with new tags -->
    <input type='hidden' name='create_tags' value=''/>
    <script node='con:new_tags_var'>
      new_tags = '%s';
    </script>

    <script>
    function ask_save_new_tags() {
      msg = 'The tags (' + new_tags + ') have not been used before. Use the new tags?';
      if (confirm(msg)) {
          form = document.getElementById('edit_form');
          form.elements['create_tags'].value = '1';
          form.submit();
      }
    }
    if (new_tags) {
      ask_save_new_tags();
    }
    </script>

</form>

</td></tr>
</table>    <!-- end form table -->


<div node='-con:footer' style='width:100%;background-color:#ddd;text-align:center'>--footer--</div>

</body>
</html>